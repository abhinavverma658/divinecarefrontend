import{_ as U,b as K,a as Y,R as T}from"./setPrototypeOf-D8CEpeRe.js";import{r as l,W as x,j as Z}from"./index-DlBNou00.js";function L(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function z(t){var i=q(t,"string");return typeof i=="symbol"?i:String(i)}function q(t,i){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var r=o.call(t,i);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B(t,i,o){var r=l.useRef(t!==void 0),n=l.useState(i),e=n[0],s=n[1],a=t!==void 0,u=r.current;return r.current=a,!a&&u&&e!==i&&s(i),[a?t:e,l.useCallback(function(c){for(var f=arguments.length,p=new Array(f>1?f-1:0),d=1;d<f;d++)p[d-1]=arguments[d];o&&o.apply(void 0,[c].concat(p)),s(c)},[o])]}function St(t,i){return Object.keys(i).reduce(function(o,r){var n,e=o,s=e[L(r)],a=e[r],u=U(e,[L(r),r].map(z)),c=i[r],f=B(a,s,t[c]),p=f[0],d=f[1];return K({},u,(n={},n[r]=p,n[c]=d,n))},t)}function J(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,Y(t,i)}function Q(t){return t&&t.ownerDocument||document}function tt(t){var i=Q(t);return i&&i.defaultView||window}function et(t,i){return tt(t).getComputedStyle(t,i)}var nt=/([A-Z])/g;function rt(t){return t.replace(nt,"-$1").toLowerCase()}var it=/^ms-/;function C(t){return rt(t).replace(it,"-ms-")}var ot=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function st(t){return!!(t&&ot.test(t))}function j(t,i){var o="",r="";if(typeof i=="string")return t.style.getPropertyValue(C(i))||et(t).getPropertyValue(C(i));Object.keys(i).forEach(function(n){var e=i[n];!e&&e!==0?t.style.removeProperty(C(n)):st(n)?r+=n+"("+e+") ":o+=C(n)+": "+e+";"}),r&&(o+="transform: "+r+";"),t.style.cssText+=";"+o}const P={disabled:!1},I=x.createContext(null);var at=function(i){return i.scrollTop},y="unmounted",h="exited",m="entering",S="entered",D="exiting",v=function(t){J(i,t);function i(r,n){var e;e=t.call(this,r,n)||this;var s=n,a=s&&!s.isMounting?r.enter:r.appear,u;return e.appearStatus=null,r.in?a?(u=h,e.appearStatus=m):u=S:r.unmountOnExit||r.mountOnEnter?u=y:u=h,e.state={status:u},e.nextCallback=null,e}i.getDerivedStateFromProps=function(n,e){var s=n.in;return s&&e.status===y?{status:h}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(n){var e=null;if(n!==this.props){var s=this.state.status;this.props.in?s!==m&&s!==S&&(e=m):(s===m||s===S)&&(e=D)}this.updateStatus(!1,e)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var n=this.props.timeout,e,s,a;return e=s=a=n,n!=null&&typeof n!="number"&&(e=n.exit,s=n.enter,a=n.appear!==void 0?n.appear:s),{exit:e,enter:s,appear:a}},o.updateStatus=function(n,e){if(n===void 0&&(n=!1),e!==null)if(this.cancelNextCallback(),e===m){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:T.findDOMNode(this);s&&at(s)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:y})},o.performEnter=function(n){var e=this,s=this.props.enter,a=this.context?this.context.isMounting:n,u=this.props.nodeRef?[a]:[T.findDOMNode(this),a],c=u[0],f=u[1],p=this.getTimeouts(),d=a?p.appear:p.enter;if(!n&&!s||P.disabled){this.safeSetState({status:S},function(){e.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:m},function(){e.props.onEntering(c,f),e.onTransitionEnd(d,function(){e.safeSetState({status:S},function(){e.props.onEntered(c,f)})})})},o.performExit=function(){var n=this,e=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:T.findDOMNode(this);if(!e||P.disabled){this.safeSetState({status:h},function(){n.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:D},function(){n.props.onExiting(a),n.onTransitionEnd(s.exit,function(){n.safeSetState({status:h},function(){n.props.onExited(a)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(n,e){e=this.setNextCallback(e),this.setState(n,e)},o.setNextCallback=function(n){var e=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,e.nextCallback=null,n(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},o.onTransitionEnd=function(n,e){this.setNextCallback(e);var s=this.props.nodeRef?this.props.nodeRef.current:T.findDOMNode(this),a=n==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}n!=null&&setTimeout(this.nextCallback,n)},o.render=function(){var n=this.state.status;if(n===y)return null;var e=this.props,s=e.children;e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef;var a=U(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(I.Provider,{value:null},typeof s=="function"?s(n,a):x.cloneElement(x.Children.only(s),a))},i}(x.Component);v.contextType=I;v.propTypes={};function g(){}v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g};v.UNMOUNTED=y;v.EXITED=h;v.ENTERING=m;v.ENTERED=S;v.EXITING=D;function ut(){const t=l.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Tt(t){if(!t||typeof t=="function")return null;const{major:i}=ut();return i>=19?t.props.ref:t.ref}const ct=!!(typeof window<"u"&&window.document&&window.document.createElement);var O=!1,N=!1;try{var w={get passive(){return O=!0},get once(){return N=O=!0}};ct&&(window.addEventListener("test",w,w),window.removeEventListener("test",w,!0))}catch{}function ft(t,i,o,r){if(r&&typeof r!="boolean"&&!N){var n=r.once,e=r.capture,s=o;!N&&n&&(s=o.__once||function a(u){this.removeEventListener(i,a,e),o.call(this,u)},o.__once=s),t.addEventListener(i,s,O?r:e)}t.addEventListener(i,o,r)}function lt(t,i,o,r){var n=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(i,o,n),o.__once&&t.removeEventListener(i,o.__once,n)}function F(t,i,o,r){return ft(t,i,o,r),function(){lt(t,i,o,r)}}function pt(t,i,o,r){if(r===void 0&&(r=!0),t){var n=document.createEvent("HTMLEvents");n.initEvent(i,o,r),t.dispatchEvent(n)}}function dt(t){var i=j(t,"transitionDuration")||"",o=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*o}function vt(t,i,o){o===void 0&&(o=5);var r=!1,n=setTimeout(function(){r||pt(t,"transitionend",!0)},i+o),e=F(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(n),e()}}function Et(t,i,o,r){o==null&&(o=dt(t)||0);var n=vt(t,o,r),e=F(t,"transitionend",i);return function(){n(),e()}}function _(t,i){const o=j(t,i)||"",r=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*r}function yt(t,i){const o=_(t,"transitionDuration"),r=_(t,"transitionDelay"),n=Et(t,e=>{e.target===t&&(n(),i(e))},o+r)}function Ct(t){t.offsetHeight}const M=t=>!t||typeof t=="function"?t:i=>{t.current=i};function ht(t,i){const o=M(t),r=M(i);return n=>{o&&o(n),r&&r(n)}}function mt(t,i){return l.useMemo(()=>ht(t,i),[t,i])}function xt(t){return t&&"setState"in t?T.findDOMNode(t):t??null}const Rt=x.forwardRef(({onEnter:t,onEntering:i,onEntered:o,onExit:r,onExiting:n,onExited:e,addEndListener:s,children:a,childRef:u,...c},f)=>{const p=l.useRef(null),d=mt(p,u),k=b=>{d(xt(b))},E=b=>R=>{b&&p.current&&b(p.current,R)},G=l.useCallback(E(t),[t]),W=l.useCallback(E(i),[i]),X=l.useCallback(E(o),[o]),A=l.useCallback(E(r),[r]),V=l.useCallback(E(n),[n]),$=l.useCallback(E(e),[e]),H=l.useCallback(E(s),[s]);return Z.jsx(v,{ref:f,...c,onEnter:G,onEntered:X,onEntering:W,onExit:A,onExited:$,onExiting:V,addEndListener:H,nodeRef:p,children:typeof a=="function"?(b,R)=>a(b,{...R,ref:k}):x.cloneElement(a,{ref:k})})});export{S as E,Rt as T,Ct as a,m as b,D as c,h as d,Tt as g,j as s,yt as t,St as u};
