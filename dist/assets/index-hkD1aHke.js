import{j as e,a as s,R as a,C as l}from"./bootstrap-l3cAIWoo.js";import{N as t,O as i,P as n,o,F as r}from"./index-DTjp-J4n.js";import{L as c,r as d}from"./router-4BVhpppa.js";import{b as m}from"./api-BiNfhpYs.js";import"./vendor-BHdpQcPu.js";import"./icons-BsaUf5yL.js";const h=()=>e.jsxs("section",{className:"vl-breadcrumb",style:{backgroundImage:"url(/assets/vl-contact-bg-D6QkS7pN.png)"},children:[e.jsx("div",{className:"shape1",children:e.jsx("img",{src:t,alt:"shapeImg1"})}),e.jsx("div",{className:"shape2",children:e.jsx("img",{src:i,alt:"shapeImg2"})}),e.jsx("div",{className:"shape2",children:e.jsx("img",{src:n,alt:"shapeImg3"})}),e.jsx(s,{children:e.jsx(a,{children:e.jsx(l,{lg:12,children:e.jsxs("div",{className:"vl-breadcrumb-title",children:[e.jsx("h2",{className:"heading",children:"Contact Us"}),e.jsxs("div",{className:"vl-breadcrumb-list",children:[e.jsx("span",{children:e.jsx(c,{to:"/",children:"Home"})}),e.jsx("span",{className:"dvir",children:e.jsx(o,{className:"fa-solid fa-angle-right"})}),e.jsx("span",{children:e.jsx("a",{className:"active",href:"#",children:"Contact Us"})})]})]})})})})]}),p=async()=>{try{console.log("ðŸ“ž Fetching contact page data from /contact-page...");const e=await m("/contact-page");if(console.log("ðŸ“ž Contact page data response:",e),e&&!1!==e.success)return console.log("ðŸ“ž âœ… Contact page data retrieved successfully"),e;throw new Error("Invalid contact page data structure")}catch(e){return console.error("Failed to fetch contact page data:",e),{callUs:{serviceTitle:"24/7 Service",serviceSubtitle:"Call Us Today",phoneNumber1:"+00 123 456 789",phoneNumber2:"+00 987 654 321"},mailInfo:{emailTitle:"Drop Line",emailSubtitle:"Mail Information",emailAddress1:"info@charity.com",emailAddress2:"infocharity@gmail.com"},location:{addressTitle:"Address",addressSubtitle:"Our Location",fullAddress:"123 Main Street, City, Country"},pageHeading:"Contact Us",pageDescription:"Reach out to us for any queries or support. We are here to help you.",googleMapsEmbedLink:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d423284.04421055503!2d-118.74139674995793!3d34.020608447020685!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c2c75ddc27da13%3A0xe22fdf6f254608f4!2sLos%20Angeles%2C%20CA%2C%20USA!5e0!3m2!1sen!2sbd!4v1734253501055!5m2!1sen!2sbd"}}},u=()=>{const[t,i]=d.useState(null),[n,o]=d.useState(!0),[c,m]=d.useState(null),[h,u]=d.useState({firstName:"",lastName:"",email:"",phoneNumber:"",subject:"",message:"",willingToDonate:!1}),[g,x]=d.useState(!1),[f,v]=d.useState(null);d.useEffect(()=>{(async()=>{try{o(!0);const e=await p();i(e)}catch(e){console.error("Error fetching contact page data:",e),m(e.message)}finally{o(!1)}})()},[]);const j=e=>{const{name:s,value:a,type:l,checked:t}=e.target,i="checkbox"===l?t:a;console.log(`Field changed: ${s} = ${i}`),u(e=>({...e,[s]:i}))};return e.jsx("section",{className:"vl-contact-section-inner sp2",children:e.jsx(s,{children:e.jsxs(a,{className:" flex-lg-row flex-column-reverse",children:[e.jsx(l,{lg:6,className:"mb-30",children:e.jsx("div",{className:"vl-maps",children:e.jsx("iframe",{src:(null==t?void 0:t.googleMapsEmbedLink)||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d423284.04421055503!2d-118.74139674995793!3d34.020608447020685!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c2c75ddc27da13%3A0xe22fdf6f254608f4!2sLos%20Angeles%2C%20CA%2C%20USA!5e0!3m2!1sen!2sbd!4v1734253501055!5m2!1sen!2sbd",allowFullScreen:!0,className:"vl-contact-maps"})})}),e.jsx(l,{lg:6,className:"mb-30",children:e.jsxs("div",{className:"vl-section-content ml-50",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("h4",{className:"subtitle",children:(null==t?void 0:t.pageHeading)||"Contact Us"}),e.jsx("h2",{className:"title",children:"Reach Together, We Can Make a Difference"}),e.jsx("p",{className:"para pb-32",children:(null==t?void 0:t.pageDescription)||"We're here to answer questions, provide information about our work, and help you find ways to get involved whether interested."})]}),e.jsxs("div",{className:"vl-form-inner",children:[f&&e.jsx("div",{className:"alert "+("success"===f.type?"alert-success":"alert-danger"),style:{marginBottom:"20px",padding:"15px",borderRadius:"5px",backgroundColor:"success"===f.type?"#d4edda":"#f8d7da",color:"success"===f.type?"#155724":"#721c24",border:"1px solid "+("success"===f.type?"#c3e6cb":"#f5c6cb")},children:f.message}),e.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Form submitted with data:",h),x(!0),v(null),!(h.firstName.trim()&&h.lastName.trim()&&h.email.trim()&&h.phoneNumber.trim()&&h.subject.trim()&&h.message.trim()))return console.log("Validation failed - missing fields"),v({type:"error",message:"Please fill in all required fields."}),void x(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email))return console.log("Email validation failed"),v({type:"error",message:"Please enter a valid email address."}),void x(!1);console.log("All validation passed, making API call...");const s={firstName:h.firstName.trim(),lastName:h.lastName.trim(),email:h.email.trim(),phone:h.phoneNumber.trim(),subject:h.subject.trim(),message:h.message.trim(),willingToDonate:h.willingToDonate};console.log("API payload:",s);try{const e=await fetch("https://divinecare-backend.onrender.com/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});let l;console.log("API response status:",e.status);try{l=await e.json()}catch(a){console.error("Failed to parse response as JSON:",a);const s=await e.text();throw console.log("Raw response:",s),new Error("Invalid response format from server")}console.log("API response data:",l),e.ok?(v({type:"success",message:l.message||"Thank you for contacting us. We will get back to you soon."}),u({firstName:"",lastName:"",email:"",phoneNumber:"",subject:"",message:"",willingToDonate:!1})):(console.error("API Error Details:",{status:e.status,statusText:e.statusText,data:l}),v({type:"error",message:l.message||l.error||`Server error (${e.status}): ${e.statusText}`}))}catch(l){console.error("Contact form error:",l),v({type:"error",message:"Failed to send message. Please check your connection and try again."})}finally{x(!1)}},children:e.jsxs(a,{children:[e.jsx(l,{lg:6,children:e.jsx("input",{type:"text",placeholder:"First Name*",name:"firstName",value:h.firstName,onChange:j,disabled:g})}),e.jsx(l,{lg:6,children:e.jsx("input",{type:"text",placeholder:"Last Name*",name:"lastName",value:h.lastName,onChange:j,disabled:g})}),e.jsx(l,{lg:12,children:e.jsx("input",{type:"email",placeholder:"Email Address*",name:"email",value:h.email,onChange:j,disabled:g})}),e.jsx(l,{lg:12,children:e.jsx("input",{type:"tel",placeholder:"Phone Number*",name:"phoneNumber",value:h.phoneNumber,onChange:j,disabled:g})}),e.jsx(l,{lg:12,children:e.jsx("input",{type:"text",placeholder:"Subject*",name:"subject",value:h.subject,onChange:j,disabled:g})}),e.jsx(l,{lg:12,children:e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"16px",fontWeight:"500",color:"#333"},children:[e.jsx("input",{type:"checkbox",name:"willingToDonate",checked:h.willingToDonate,onChange:j,disabled:g,style:{marginRight:"10px",transform:"scale(1.2)"}}),"Willing to Donate"]}),e.jsx("small",{style:{color:"#666",marginLeft:"30px",display:"block",marginTop:"5px"},children:"Check this box if you're interested in making a donation to support our cause."})]})}),e.jsx(l,{lg:12,children:e.jsx("textarea",{name:"message",placeholder:"Message*",value:h.message,onChange:j,disabled:g})}),e.jsx(l,{lg:12,children:e.jsx("div",{className:"btn-area",children:e.jsxs("button",{type:"submit",className:"header-btn1",disabled:g,style:{opacity:g?.7:1},children:[g?"Sending...":"Send Message",e.jsx("span",{children:e.jsx(r,{})})]})})})]})})]})]})})]})})})},g=[{icon:"/assets/vl-phone-icon1.1-BF_wrUAP.svg",title:"Call Us Today",description:"24/7 Service",contacts:["+00 123 456 789","+00 987 654 321"]},{icon:"data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.33464%2036.6649C6.32631%2036.6649%205.4628%2036.3055%204.74414%2035.5869C4.02547%2034.8682%203.66675%2034.0053%203.66797%2032.9982V10.9982C3.66797%209.98988%204.02731%209.12638%204.74597%208.40771C5.46464%207.68905%206.32753%207.33032%207.33464%207.33155H36.668C37.6763%207.33155%2038.5398%207.69088%2039.2585%208.40955C39.9771%209.12821%2040.3359%209.9911%2040.3346%2010.9982V32.9982C40.3346%2034.0065%2039.9753%2034.87%2039.2566%2035.5887C38.538%2036.3074%2037.6751%2036.6661%2036.668%2036.6649H7.33464ZM36.668%2014.6649L22.9638%2023.2357C22.811%2023.3274%2022.6503%2023.3964%2022.4816%2023.4429C22.313%2023.4893%2022.1529%2023.5119%2022.0013%2023.5107C21.8485%2023.5107%2021.6878%2023.4881%2021.5191%2023.4429C21.3505%2023.3977%2021.1904%2023.3286%2021.0388%2023.2357L7.33464%2014.6649V32.9982H36.668V14.6649ZM22.0013%2020.1649L36.668%2010.9982H7.33464L22.0013%2020.1649ZM7.33464%2015.1232V12.419V12.4649V12.4429V15.1232Z'%20fill='white'/%3e%3c/svg%3e",title:"Mail Information",description:"Drop Line",contacts:["info@charity.com","Infocharity@gmail.com"]},{icon:"data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2024.75C20.6403%2024.75%2019.311%2024.3468%2018.1805%2023.5914C17.0499%2022.8359%2016.1687%2021.7622%2015.6483%2020.506C15.128%2019.2497%2014.9918%2017.8674%2015.2571%2016.5338C15.5224%2015.2001%2016.1772%2013.9751%2017.1386%2013.0136C18.1001%2012.0522%2019.3251%2011.3974%2020.6588%2011.1321C21.9924%2010.8668%2023.3747%2011.003%2024.631%2011.5233C25.8872%2012.0437%2026.9609%2012.9249%2027.7164%2014.0555C28.4718%2015.186%2028.875%2016.5153%2028.875%2017.875C28.8728%2019.6977%2028.1478%2021.4451%2026.859%2022.734C25.5701%2024.0228%2023.8227%2024.7478%2022%2024.75ZM22%2013.75C21.1842%2013.75%2020.3866%2013.9919%2019.7083%2014.4452C19.0299%2014.8985%2018.5012%2015.5427%2018.189%2016.2964C17.8768%2017.0502%2017.7951%2017.8796%2017.9543%2018.6798C18.1134%2019.4799%2018.5063%2020.2149%2019.0832%2020.7918C19.6601%2021.3687%2020.3951%2021.7616%2021.1953%2021.9207C21.9954%2022.0799%2022.8248%2021.9982%2023.5786%2021.686C24.3323%2021.3738%2024.9766%2020.8451%2025.4298%2020.1667C25.8831%2019.4884%2026.125%2018.6909%2026.125%2017.875C26.1239%2016.7813%2025.689%2015.7327%2024.9156%2014.9594C24.1423%2014.186%2023.0937%2013.7511%2022%2013.75Z'%20fill='white'/%3e%3cpath%20d='M22%2041.25L10.4005%2027.5701C10.2393%2027.3647%2010.0798%2027.158%209.92201%2026.95C7.94161%2024.3394%206.87132%2021.1518%206.87501%2017.875C6.87501%2013.8636%208.46853%2010.0165%2011.305%207.18001C14.1415%204.34352%2017.9886%202.75%2022%202.75C26.0114%202.75%2029.8585%204.34352%2032.695%207.18001C35.5315%2010.0165%2037.125%2013.8636%2037.125%2017.875C37.1282%2021.1502%2036.0584%2024.3362%2034.0794%2026.9459L34.078%2026.95C34.078%2026.95%2033.6655%2027.4918%2033.6036%2027.5646L22%2041.25ZM12.1179%2025.2931C12.1179%2025.2931%2012.4383%2025.7166%2012.5111%2025.8074L22%2036.9985L31.5013%2025.7922C31.5618%2025.7166%2031.8835%2025.2904%2031.8849%2025.289C33.5036%2023.1566%2034.3783%2020.5522%2034.375%2017.875C34.375%2014.5929%2033.0712%2011.4453%2030.7505%209.12455C28.4297%206.80379%2025.2821%205.5%2022%205.5C18.718%205.5%2015.5703%206.80379%2013.2496%209.12455C10.9288%2011.4453%209.62501%2014.5929%209.62501%2017.875C9.62162%2020.5539%2010.4974%2023.1599%2012.1179%2025.2931Z'%20fill='white'/%3e%3c/svg%3e",title:"Our Location",description:"Address",contacts:["8708 Technology Forest Pl Suite 125-G, The Woodlands, TX 77381"]}],x=()=>{var t,i,n,o,r,m,h,u,x,f,v,j,b,C;const[N,y]=d.useState(null),[w,S]=d.useState(null),[A,T]=d.useState(!0),[L,k]=d.useState(null);if(d.useEffect(()=>{(async()=>{try{T(!0);const e=await p();S(e)}catch(e){console.error("Error fetching contact page data:",e),k(e.message)}finally{T(!1)}})()},[]),A)return e.jsx("section",{className:"vl-icon-box-inner pb-70",children:e.jsx(s,{children:e.jsx("div",{className:"text-center py-5",children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})})});const I=w?[{icon:(null==(t=g[0])?void 0:t.icon)||"/default-phone-icon.png",description:(null==(i=w.callUs)?void 0:i.serviceTitle)||"24/7 Service",title:(null==(n=w.callUs)?void 0:n.serviceSubtitle)||"Call Us Today",contacts:[(null==(o=w.callUs)?void 0:o.phoneNumber1)||"+00 123 456 789",(null==(r=w.callUs)?void 0:r.phoneNumber2)||"+00 987 654 321"]},{icon:(null==(m=g[1])?void 0:m.icon)||"/default-email-icon.png",description:(null==(h=w.mailInfo)?void 0:h.emailTitle)||"Drop Line",title:(null==(u=w.mailInfo)?void 0:u.emailSubtitle)||"Mail Information",contacts:[(null==(x=w.mailInfo)?void 0:x.emailAddress1)||"info@charity.com",(null==(f=w.mailInfo)?void 0:f.emailAddress2)||"infocharity@gmail.com"]},{icon:(null==(v=g[2])?void 0:v.icon)||"/default-location-icon.png",description:(null==(j=w.location)?void 0:j.addressTitle)||"Address",title:(null==(b=w.location)?void 0:b.addressSubtitle)||"Our Location",contacts:[(null==(C=w.location)?void 0:C.fullAddress)||"123 Main Street, City, Country"]}]:g;return e.jsx("section",{className:"vl-icon-box-inner pb-70",children:e.jsxs(s,{children:[L&&e.jsx(a,{children:e.jsx(l,{children:e.jsxs("div",{className:"alert alert-info mb-4",children:["Using fallback data due to API error: ",L]})})}),e.jsx(a,{children:I.map((s,a)=>{var t;return e.jsx(l,{lg:4,md:6,className:"mb-30",children:e.jsxs("div",{className:"iconbox "+(N===a?"active":""),onMouseEnter:()=>y(a),onMouseLeave:()=>y(null),children:[e.jsxs("div",{className:"icon-box-flex",children:[e.jsx("div",{className:"icon",children:e.jsx("span",{children:e.jsx("img",{src:s.icon,alt:"icon"})})}),e.jsxs("div",{className:"icon-content",children:[e.jsx("p",{className:"para",children:s.description}),e.jsx("h3",{className:"title",children:s.title})]})]}),e.jsx("div",{className:"contact-number",children:(null==s?void 0:s.contacts)&&(null==(t=null==s?void 0:s.contacts)?void 0:t.map((s,l)=>e.jsxs(d.Fragment,{children:[e.jsx(c,{to:0===a?`tel:${s}`:1===a?`mailto:${s}`:"#",className:"para",children:s})," ",e.jsx("br",{})]},l)))})]})},a)})})]})})},f=()=>e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx(u,{}),e.jsx(x,{})]});export{f as default};
